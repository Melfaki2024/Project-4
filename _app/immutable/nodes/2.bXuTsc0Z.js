import{s as Xn,n as yt,o as Me}from"../chunks/scheduler.zMJaRgub.js";import{S as Bn,i as Yn,e as Ne,c as $e,y as Se,j as Ce,g as Ee,u as Te,v as Re,w as Fe,t as Ie,a as De,x as Pe}from"../chunks/index.bdaJyo3N.js";function wt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Oe(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Un(t){let n,e,r;t.length!==2?(n=wt,e=(s,f)=>wt(t(s),f),r=(s,f)=>t(s)-f):(n=t===wt||t===Oe?t:He,e=t,r=t);function i(s,f,u=0,l=s.length){if(u<l){if(n(f,f)!==0)return l;do{const c=u+l>>>1;e(s[c],f)<0?u=c+1:l=c}while(u<l)}return u}function o(s,f,u=0,l=s.length){if(u<l){if(n(f,f)!==0)return l;do{const c=u+l>>>1;e(s[c],f)<=0?u=c+1:l=c}while(u<l)}return u}function a(s,f,u=0,l=s.length){const c=i(s,f,u,l-1);return c>u&&r(s[c-1],f)>-r(s[c],f)?c-1:c}return{left:i,center:a,right:o}}function He(){return 0}function ze(t){return t===null?NaN:+t}const Le=Un(wt),qe=Le.right;Un(ze).center;class hn extends Map{constructor(n,e=Be){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(dn(this,n))}has(n){return super.has(dn(this,n))}set(n,e){return super.set(Ve(this,n),e)}delete(n){return super.delete(Xe(this,n))}}function dn({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ve({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Xe({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Be(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Ye=Math.sqrt(50),Ue=Math.sqrt(10),Ge=Math.sqrt(2);function bt(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ye?10:o>=Ue?5:o>=Ge?2:1;let s,f,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),f=Math.round(n*u),s/u<t&&++s,f/u>n&&--f,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),f=Math.round(n/u),s*u<t&&++s,f*u>n&&--f),f<s&&.5<=e&&e<2?bt(t,n,e*2):[s,f,u]}function We(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?bt(n,t,e):bt(t,n,e);if(!(o>=i))return[];const s=o-i+1,f=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)f[u]=(o-u)/-a;else for(let u=0;u<s;++u)f[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)f[u]=(i+u)/-a;else for(let u=0;u<s;++u)f[u]=(i+u)*a;return f}function Vt(t,n,e){return n=+n,t=+t,e=+e,bt(t,n,e)[2]}function Ze(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Vt(n,t,e):Vt(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Ke(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Je(t){return t}var Dt=1,Pt=2,Xt=3,tt=4,pn=1e-6;function Qe(t){return"translate("+t+",0)"}function je(t){return"translate(0,"+t+")"}function tr(t){return n=>+t(n)}function nr(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function er(){return!this.__axis}function Gn(t,n){var e=[],r=null,i=null,o=6,a=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Dt||t===tt?-1:1,l=t===tt||t===Pt?"x":"y",c=t===Dt||t===Xt?Qe:je;function h(d){var g=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):Je),y=Math.max(o,0)+s,x=n.range(),b=+x[0]+f,v=+x[x.length-1]+f,M=(n.bandwidth?nr:tr)(n.copy(),f),w=d.selection?d.selection():d,N=w.selectAll(".domain").data([null]),A=w.selectAll(".tick").data(g,n).order(),$=A.exit(),L=A.enter().append("g").attr("class","tick"),I=A.select("line"),p=A.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(L),I=I.merge(L.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),p=p.merge(L.append("text").attr("fill","currentColor").attr(l,u*y).attr("dy",t===Dt?"0em":t===Xt?"0.71em":"0.32em")),d!==w&&(N=N.transition(d),A=A.transition(d),I=I.transition(d),p=p.transition(d),$=$.transition(d).attr("opacity",pn).attr("transform",function(_){return isFinite(_=M(_))?c(_+f):this.getAttribute("transform")}),L.attr("opacity",pn).attr("transform",function(_){var k=this.parentNode.__axis;return c((k&&isFinite(k=k(_))?k:M(_))+f)})),$.remove(),N.attr("d",t===tt||t===Pt?a?"M"+u*a+","+b+"H"+f+"V"+v+"H"+u*a:"M"+f+","+b+"V"+v:a?"M"+b+","+u*a+"V"+f+"H"+v+"V"+u*a:"M"+b+","+f+"H"+v),A.attr("opacity",1).attr("transform",function(_){return c(M(_)+f)}),I.attr(l+"2",u*o),p.attr(l,u*y).text(m),w.filter(er).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Pt?"start":t===tt?"end":"middle"),w.each(function(){this.__axis=M})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=a=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(a=+d,h):a},h.tickPadding=function(d){return arguments.length?(s=+d,h):s},h.offset=function(d){return arguments.length?(f=+d,h):f},h}function gn(t){return Gn(Xt,t)}function mn(t){return Gn(tt,t)}var rr={value:()=>{}};function Wn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new vt(e)}function vt(t){this._=t}function ir(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}vt.prototype=Wn.prototype={constructor:vt,on:function(t,n){var e=this._,r=ir(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=or(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=yn(e[i],t.name,n);else if(n==null)for(i in e)e[i]=yn(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new vt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function or(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function yn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=rr,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Bt="http://www.w3.org/1999/xhtml";const wn={svg:"http://www.w3.org/2000/svg",xhtml:Bt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),wn.hasOwnProperty(n)?{space:wn[n],local:t}:t}function ar(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Bt&&n.documentElement.namespaceURI===Bt?n.createElement(t):n.createElementNS(e,t)}}function sr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zn(t){var n=Rt(t);return(n.local?sr:ar)(n)}function ur(){}function jt(t){return t==null?ur:function(){return this.querySelector(t)}}function fr(t){typeof t!="function"&&(t=jt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=new Array(a),f,u,l=0;l<a;++l)(f=o[l])&&(u=t.call(f,f.__data__,l,o))&&("__data__"in f&&(u.__data__=f.__data__),s[l]=u);return new E(r,this._parents)}function cr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function lr(){return[]}function Kn(t){return t==null?lr:function(){return this.querySelectorAll(t)}}function hr(t){return function(){return cr(t.apply(this,arguments))}}function dr(t){typeof t=="function"?t=hr(t):t=Kn(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],s=a.length,f,u=0;u<s;++u)(f=a[u])&&(r.push(t.call(f,f.__data__,u,a)),i.push(f));return new E(r,i)}function Jn(t){return function(){return this.matches(t)}}function Qn(t){return function(n){return n.matches(t)}}var pr=Array.prototype.find;function gr(t){return function(){return pr.call(this.children,t)}}function mr(){return this.firstElementChild}function yr(t){return this.select(t==null?mr:gr(typeof t=="function"?t:Qn(t)))}var wr=Array.prototype.filter;function vr(){return Array.from(this.children)}function _r(t){return function(){return wr.call(this.children,t)}}function xr(t){return this.selectAll(t==null?vr:_r(typeof t=="function"?t:Qn(t)))}function br(t){typeof t!="function"&&(t=Jn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&s.push(f);return new E(r,this._parents)}function jn(t){return new Array(t.length)}function kr(){return new E(this._enter||this._groups.map(jn),this._parents)}function kt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}kt.prototype={constructor:kt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ar(t){return function(){return t}}function Mr(t,n,e,r,i,o){for(var a=0,s,f=n.length,u=o.length;a<u;++a)(s=n[a])?(s.__data__=o[a],r[a]=s):e[a]=new kt(t,o[a]);for(;a<f;++a)(s=n[a])&&(i[a]=s)}function Nr(t,n,e,r,i,o,a){var s,f,u=new Map,l=n.length,c=o.length,h=new Array(l),d;for(s=0;s<l;++s)(f=n[s])&&(h[s]=d=a.call(f,f.__data__,s,n)+"",u.has(d)?i[s]=f:u.set(d,f));for(s=0;s<c;++s)d=a.call(t,o[s],s,o)+"",(f=u.get(d))?(r[s]=f,f.__data__=o[s],u.delete(d)):e[s]=new kt(t,o[s]);for(s=0;s<l;++s)(f=n[s])&&u.get(h[s])===f&&(i[s]=f)}function $r(t){return t.__data__}function Sr(t,n){if(!arguments.length)return Array.from(this,$r);var e=n?Nr:Mr,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ar(t));for(var o=i.length,a=new Array(o),s=new Array(o),f=new Array(o),u=0;u<o;++u){var l=r[u],c=i[u],h=c.length,d=Cr(t.call(l,l&&l.__data__,u,r)),g=d.length,m=s[u]=new Array(g),y=a[u]=new Array(g),x=f[u]=new Array(h);e(l,c,m,y,x,d,n);for(var b=0,v=0,M,w;b<g;++b)if(M=m[b]){for(b>=v&&(v=b+1);!(w=y[v])&&++v<g;);M._next=w||null}}return a=new E(a,r),a._enter=s,a._exit=f,a}function Cr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Er(){return new E(this._exit||this._groups.map(jn),this._parents)}function Tr(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Rr(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),s=new Array(i),f=0;f<a;++f)for(var u=e[f],l=r[f],c=u.length,h=s[f]=new Array(c),d,g=0;g<c;++g)(d=u[g]||l[g])&&(h[g]=d);for(;f<i;++f)s[f]=e[f];return new E(s,this._parents)}function Fr(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ir(t){t||(t=Dr);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],s=a.length,f=i[o]=new Array(s),u,l=0;l<s;++l)(u=a[l])&&(f[l]=u);f.sort(n)}return new E(i,this._parents).order()}function Dr(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Pr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Or(){return Array.from(this)}function Hr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function zr(){let t=0;for(const n of this)++t;return t}function Lr(){return!this.node()}function qr(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Vr(t){return function(){this.removeAttribute(t)}}function Xr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Br(t,n){return function(){this.setAttribute(t,n)}}function Yr(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ur(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Gr(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Wr(t,n){var e=Rt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Xr:Vr:typeof n=="function"?e.local?Gr:Ur:e.local?Yr:Br)(e,n))}function te(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zr(t){return function(){this.style.removeProperty(t)}}function Kr(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Jr(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Qr(t,n,e){return arguments.length>1?this.each((n==null?Zr:typeof n=="function"?Jr:Kr)(t,n,e??"")):W(this.node(),t)}function W(t,n){return t.style.getPropertyValue(n)||te(t).getComputedStyle(t,null).getPropertyValue(n)}function jr(t){return function(){delete this[t]}}function ti(t,n){return function(){this[t]=n}}function ni(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ei(t,n){return arguments.length>1?this.each((n==null?jr:typeof n=="function"?ni:ti)(t,n)):this.node()[t]}function ne(t){return t.trim().split(/^|\s+/)}function tn(t){return t.classList||new ee(t)}function ee(t){this._node=t,this._names=ne(t.getAttribute("class")||"")}ee.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function re(t,n){for(var e=tn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ie(t,n){for(var e=tn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ri(t){return function(){re(this,t)}}function ii(t){return function(){ie(this,t)}}function oi(t,n){return function(){(n.apply(this,arguments)?re:ie)(this,t)}}function ai(t,n){var e=ne(t+"");if(arguments.length<2){for(var r=tn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?oi:n?ri:ii)(e,n))}function si(){this.textContent=""}function ui(t){return function(){this.textContent=t}}function fi(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function ci(t){return arguments.length?this.each(t==null?si:(typeof t=="function"?fi:ui)(t)):this.node().textContent}function li(){this.innerHTML=""}function hi(t){return function(){this.innerHTML=t}}function di(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function pi(t){return arguments.length?this.each(t==null?li:(typeof t=="function"?di:hi)(t)):this.node().innerHTML}function gi(){this.nextSibling&&this.parentNode.appendChild(this)}function mi(){return this.each(gi)}function yi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wi(){return this.each(yi)}function vi(t){var n=typeof t=="function"?t:Zn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function _i(){return null}function xi(t,n){var e=typeof t=="function"?t:Zn(t),r=n==null?_i:typeof n=="function"?n:jt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function bi(){var t=this.parentNode;t&&t.removeChild(this)}function ki(){return this.each(bi)}function Ai(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Mi(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ni(t){return this.select(t?Mi:Ai)}function $i(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Si(t){return function(n){t.call(this,n,this.__data__)}}function Ci(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Ei(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Ti(t,n,e){return function(){var r=this.__on,i,o=Si(n);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Ri(t,n,e){var r=Ci(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,u=s.length,l;f<u;++f)for(i=0,l=s[f];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=n?Ti:Ei,i=0;i<o;++i)this.each(s(r[i],n,e));return this}function oe(t,n,e){var r=te(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Fi(t,n){return function(){return oe(this,t,n)}}function Ii(t,n){return function(){return oe(this,t,n.apply(this,arguments))}}function Di(t,n){return this.each((typeof n=="function"?Ii:Fi)(t,n))}function*Pi(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ae=[null];function E(t,n){this._groups=t,this._parents=n}function st(){return new E([[document.documentElement]],ae)}function Oi(){return this}E.prototype=st.prototype={constructor:E,select:fr,selectAll:dr,selectChild:yr,selectChildren:xr,filter:br,data:Sr,enter:kr,exit:Er,join:Tr,merge:Rr,selection:Oi,order:Fr,sort:Ir,call:Pr,nodes:Or,node:Hr,size:zr,empty:Lr,each:qr,attr:Wr,style:Qr,property:ei,classed:ai,text:ci,html:pi,raise:mi,lower:wi,append:vi,insert:xi,remove:ki,clone:Ni,datum:$i,on:Ri,dispatch:Di,[Symbol.iterator]:Pi};function J(t){return typeof t=="string"?new E([[document.querySelector(t)]],[document.documentElement]):new E([[t]],ae)}function nn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function se(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ut(){}var it=.7,At=1/it,G="\\s*([+-]?\\d+)\\s*",ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",D="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hi=/^#([0-9a-f]{3,8})$/,zi=new RegExp(`^rgb\\(${G},${G},${G}\\)$`),Li=new RegExp(`^rgb\\(${D},${D},${D}\\)$`),qi=new RegExp(`^rgba\\(${G},${G},${G},${ot}\\)$`),Vi=new RegExp(`^rgba\\(${D},${D},${D},${ot}\\)$`),Xi=new RegExp(`^hsl\\(${ot},${D},${D}\\)$`),Bi=new RegExp(`^hsla\\(${ot},${D},${D},${ot}\\)$`),vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nn(ut,B,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_n,formatHex:_n,formatHex8:Yi,formatHsl:Ui,formatRgb:xn,toString:xn});function _n(){return this.rgb().formatHex()}function Yi(){return this.rgb().formatHex8()}function Ui(){return ue(this).formatHsl()}function xn(){return this.rgb().formatRgb()}function B(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Hi.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?bn(n):e===3?new C(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?ht(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?ht(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=zi.exec(t))?new C(n[1],n[2],n[3],1):(n=Li.exec(t))?new C(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=qi.exec(t))?ht(n[1],n[2],n[3],n[4]):(n=Vi.exec(t))?ht(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Xi.exec(t))?Mn(n[1],n[2]/100,n[3]/100,1):(n=Bi.exec(t))?Mn(n[1],n[2]/100,n[3]/100,n[4]):vn.hasOwnProperty(t)?bn(vn[t]):t==="transparent"?new C(NaN,NaN,NaN,0):null}function bn(t){return new C(t>>16&255,t>>8&255,t&255,1)}function ht(t,n,e,r){return r<=0&&(t=n=e=NaN),new C(t,n,e,r)}function Gi(t){return t instanceof ut||(t=B(t)),t?(t=t.rgb(),new C(t.r,t.g,t.b,t.opacity)):new C}function Yt(t,n,e,r){return arguments.length===1?Gi(t):new C(t,n,e,r??1)}function C(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}nn(C,Yt,se(ut,{brighter(t){return t=t==null?At:Math.pow(At,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?it:Math.pow(it,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new C(X(this.r),X(this.g),X(this.b),Mt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kn,formatHex:kn,formatHex8:Wi,formatRgb:An,toString:An}));function kn(){return`#${V(this.r)}${V(this.g)}${V(this.b)}`}function Wi(){return`#${V(this.r)}${V(this.g)}${V(this.b)}${V((isNaN(this.opacity)?1:this.opacity)*255)}`}function An(){const t=Mt(this.opacity);return`${t===1?"rgb(":"rgba("}${X(this.r)}, ${X(this.g)}, ${X(this.b)}${t===1?")":`, ${t})`}`}function Mt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function X(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function V(t){return t=X(t),(t<16?"0":"")+t.toString(16)}function Mn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new R(t,n,e,r)}function ue(t){if(t instanceof R)return new R(t.h,t.s,t.l,t.opacity);if(t instanceof ut||(t=B(t)),!t)return new R;if(t instanceof R)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,f=(o+i)/2;return s?(n===o?a=(e-r)/s+(e<r)*6:e===o?a=(r-n)/s+2:a=(n-e)/s+4,s/=f<.5?o+i:2-o-i,a*=60):s=f>0&&f<1?0:a,new R(a,s,f,t.opacity)}function Zi(t,n,e,r){return arguments.length===1?ue(t):new R(t,n,e,r??1)}function R(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}nn(R,Zi,se(ut,{brighter(t){return t=t==null?At:Math.pow(At,t),new R(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?it:Math.pow(it,t),new R(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new C(Ot(t>=240?t-240:t+120,i,r),Ot(t,i,r),Ot(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new R(Nn(this.h),dt(this.s),dt(this.l),Mt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mt(this.opacity);return`${t===1?"hsl(":"hsla("}${Nn(this.h)}, ${dt(this.s)*100}%, ${dt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Nn(t){return t=(t||0)%360,t<0?t+360:t}function dt(t){return Math.max(0,Math.min(1,t||0))}function Ot(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const en=t=>()=>t;function Ki(t,n){return function(e){return t+e*n}}function Ji(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Qi(t){return(t=+t)==1?fe:function(n,e){return e-n?Ji(n,e,t):en(isNaN(n)?e:n)}}function fe(t,n){var e=n-t;return e?Ki(t,e):en(isNaN(t)?n:t)}const Nt=function t(n){var e=Qi(n);function r(i,o){var a=e((i=Yt(i)).r,(o=Yt(o)).r),s=e(i.g,o.g),f=e(i.b,o.b),u=fe(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=f(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function ji(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function to(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function no(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=rn(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function eo(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function T(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function ro(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=rn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Ut=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ht=new RegExp(Ut.source,"g");function io(t){return function(){return t}}function oo(t){return function(n){return t(n)+""}}function ce(t,n){var e=Ut.lastIndex=Ht.lastIndex=0,r,i,o,a=-1,s=[],f=[];for(t=t+"",n=n+"";(r=Ut.exec(t))&&(i=Ht.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,f.push({i:a,x:T(r,i)})),e=Ht.lastIndex;return e<n.length&&(o=n.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?f[0]?oo(f[0].x):io(n):(n=f.length,function(u){for(var l=0,c;l<n;++l)s[(c=f[l]).i]=c.x(u);return s.join("")})}function rn(t,n){var e=typeof n,r;return n==null||e==="boolean"?en(n):(e==="number"?T:e==="string"?(r=B(n))?(n=r,Nt):ce:n instanceof B?Nt:n instanceof Date?eo:to(n)?ji:Array.isArray(n)?no:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?ro:T)(t,n)}function ao(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var $n=180/Math.PI,Gt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function le(t,n,e,r,i,o){var a,s,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,f/=s),t*r<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*$n,skewX:Math.atan(f)*$n,scaleX:a,scaleY:s}}var pt;function so(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Gt:le(n.a,n.b,n.c,n.d,n.e,n.f)}function uo(t){return t==null||(pt||(pt=document.createElementNS("http://www.w3.org/2000/svg","g")),pt.setAttribute("transform",t),!(t=pt.transform.baseVal.consolidate()))?Gt:(t=t.matrix,le(t.a,t.b,t.c,t.d,t.e,t.f))}function he(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,c,h,d,g){if(u!==c||l!==h){var m=d.push("translate(",null,n,null,e);g.push({i:m-4,x:T(u,c)},{i:m-2,x:T(l,h)})}else(c||h)&&d.push("translate("+c+n+h+e)}function a(u,l,c,h){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:T(u,l)})):l&&c.push(i(c)+"rotate("+l+r)}function s(u,l,c,h){u!==l?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:T(u,l)}):l&&c.push(i(c)+"skewX("+l+r)}function f(u,l,c,h,d,g){if(u!==c||l!==h){var m=d.push(i(d)+"scale(",null,",",null,")");g.push({i:m-4,x:T(u,c)},{i:m-2,x:T(l,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(u,l){var c=[],h=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,c,h),a(u.rotate,l.rotate,c,h),s(u.skewX,l.skewX,c,h),f(u.scaleX,u.scaleY,l.scaleX,l.scaleY,c,h),u=l=null,function(d){for(var g=-1,m=h.length,y;++g<m;)c[(y=h[g]).i]=y.x(d);return c.join("")}}}var fo=he(so,"px, ","px)","deg)"),co=he(uo,", ",")",")"),Z=0,nt=0,Q=0,de=1e3,$t,et,St=0,Y=0,Ft=0,at=typeof performance=="object"&&performance.now?performance:Date,pe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function on(){return Y||(pe(lo),Y=at.now()+Ft)}function lo(){Y=0}function Ct(){this._call=this._time=this._next=null}Ct.prototype=ge.prototype={constructor:Ct,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?on():+e)+(n==null?0:+n),!this._next&&et!==this&&(et?et._next=this:$t=this,et=this),this._call=t,this._time=e,Wt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wt())}};function ge(t,n,e){var r=new Ct;return r.restart(t,n,e),r}function ho(){on(),++Z;for(var t=$t,n;t;)(n=Y-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Z}function Sn(){Y=(St=at.now())+Ft,Z=nt=0;try{ho()}finally{Z=0,go(),Y=0}}function po(){var t=at.now(),n=t-St;n>de&&(Ft-=n,St=t)}function go(){for(var t,n=$t,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:$t=e);et=t,Wt(r)}function Wt(t){if(!Z){nt&&(nt=clearTimeout(nt));var n=t-Y;n>24?(t<1/0&&(nt=setTimeout(Sn,t-at.now()-Ft)),Q&&(Q=clearInterval(Q))):(Q||(St=at.now(),Q=setInterval(po,de)),Z=1,pe(Sn))}}function Cn(t,n,e){var r=new Ct;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var mo=Wn("start","end","cancel","interrupt"),yo=[],me=0,En=1,Zt=2,_t=3,Tn=4,Kt=5,xt=6;function It(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;wo(t,e,{name:n,index:r,group:i,on:mo,tween:yo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:me})}function an(t,n){var e=F(t,n);if(e.state>me)throw new Error("too late; already scheduled");return e}function P(t,n){var e=F(t,n);if(e.state>_t)throw new Error("too late; already running");return e}function F(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function wo(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=ge(o,0,e.time);function o(u){e.state=En,e.timer.restart(a,e.delay,e.time),e.delay<=u&&a(u-e.delay)}function a(u){var l,c,h,d;if(e.state!==En)return f();for(l in r)if(d=r[l],d.name===e.name){if(d.state===_t)return Cn(a);d.state===Tn?(d.state=xt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<n&&(d.state=xt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(Cn(function(){e.state===_t&&(e.state=Tn,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=Zt,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Zt){for(e.state=_t,i=new Array(h=e.tween.length),l=0,c=-1;l<h;++l)(d=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++c]=d);i.length=c+1}}function s(u){for(var l=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(f),e.state=Kt,1),c=-1,h=i.length;++c<h;)i[c].call(t,l);e.state===Kt&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){e.state=xt,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function vo(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Zt&&r.state<Kt,r.state=xt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function _o(t){return this.each(function(){vo(this,t)})}function xo(t,n){var e,r;return function(){var i=P(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function bo(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=P(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:n,value:e},f=0,u=i.length;f<u;++f)if(i[f].name===n){i[f]=s;break}f===u&&i.push(s)}o.tween=i}}function ko(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=F(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?xo:bo)(e,t,n))}function sn(t,n,e){var r=t._id;return t.each(function(){var i=P(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return F(i,r).value[n]}}function ye(t,n){var e;return(typeof n=="number"?T:n instanceof B?Nt:(e=B(n))?(n=e,Nt):ce)(t,n)}function Ao(t){return function(){this.removeAttribute(t)}}function Mo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function No(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function $o(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function So(t,n,e){var r,i,o;return function(){var a,s=e(this),f;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,s)))}}function Co(t,n,e){var r,i,o;return function(){var a,s=e(this),f;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,s)))}}function Eo(t,n){var e=Rt(t),r=e==="transform"?co:ye;return this.attrTween(t,typeof n=="function"?(e.local?Co:So)(e,r,sn(this,"attr."+t,n)):n==null?(e.local?Mo:Ao)(e):(e.local?$o:No)(e,r,n))}function To(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ro(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Fo(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Ro(t,o)),e}return i._value=n,i}function Io(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&To(t,o)),e}return i._value=n,i}function Do(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Rt(t);return this.tween(e,(r.local?Fo:Io)(r,n))}function Po(t,n){return function(){an(this,t).delay=+n.apply(this,arguments)}}function Oo(t,n){return n=+n,function(){an(this,t).delay=n}}function Ho(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Po:Oo)(n,t)):F(this.node(),n).delay}function zo(t,n){return function(){P(this,t).duration=+n.apply(this,arguments)}}function Lo(t,n){return n=+n,function(){P(this,t).duration=n}}function qo(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?zo:Lo)(n,t)):F(this.node(),n).duration}function Vo(t,n){if(typeof n!="function")throw new Error;return function(){P(this,t).ease=n}}function Xo(t){var n=this._id;return arguments.length?this.each(Vo(n,t)):F(this.node(),n).ease}function Bo(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;P(this,t).ease=e}}function Yo(t){if(typeof t!="function")throw new Error;return this.each(Bo(this._id,t))}function Uo(t){typeof t!="function"&&(t=Jn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&s.push(f);return new z(r,this._parents,this._name,this._id)}function Go(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var f=n[s],u=e[s],l=f.length,c=a[s]=new Array(l),h,d=0;d<l;++d)(h=f[d]||u[d])&&(c[d]=h);for(;s<r;++s)a[s]=n[s];return new z(a,this._parents,this._name,this._id)}function Wo(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Zo(t,n,e){var r,i,o=Wo(n)?an:P;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(n,e),a.on=i}}function Ko(t,n){var e=this._id;return arguments.length<2?F(this.node(),e).on.on(t):this.each(Zo(e,t,n))}function Jo(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Qo(){return this.on("end.remove",Jo(this._id))}function jo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=jt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],f=s.length,u=o[a]=new Array(f),l,c,h=0;h<f;++h)(l=s[h])&&(c=t.call(l,l.__data__,h,s))&&("__data__"in l&&(c.__data__=l.__data__),u[h]=c,It(u[h],n,e,h,u,F(l,e)));return new z(o,this._parents,n,e)}function ta(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Kn(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var f=r[s],u=f.length,l,c=0;c<u;++c)if(l=f[c]){for(var h=t.call(l,l.__data__,c,f),d,g=F(l,e),m=0,y=h.length;m<y;++m)(d=h[m])&&It(d,n,e,m,h,g);o.push(h),a.push(l)}return new z(o,a,n,e)}var na=st.prototype.constructor;function ea(){return new na(this._groups,this._parents)}function ra(t,n){var e,r,i;return function(){var o=W(this,t),a=(this.style.removeProperty(t),W(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function we(t){return function(){this.style.removeProperty(t)}}function ia(t,n,e){var r,i=e+"",o;return function(){var a=W(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function oa(t,n,e){var r,i,o;return function(){var a=W(this,t),s=e(this),f=s+"";return s==null&&(f=s=(this.style.removeProperty(t),W(this,t))),a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,s))}}function aa(t,n){var e,r,i,o="style."+n,a="end."+o,s;return function(){var f=P(this,t),u=f.on,l=f.value[o]==null?s||(s=we(n)):void 0;(u!==e||i!==l)&&(r=(e=u).copy()).on(a,i=l),f.on=r}}function sa(t,n,e){var r=(t+="")=="transform"?fo:ye;return n==null?this.styleTween(t,ra(t,r)).on("end.style."+t,we(t)):typeof n=="function"?this.styleTween(t,oa(t,r,sn(this,"style."+t,n))).each(aa(this._id,t)):this.styleTween(t,ia(t,r,n),e).on("end.style."+t,null)}function ua(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function fa(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&ua(t,a,e)),r}return o._value=n,o}function ca(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,fa(t,n,e??""))}function la(t){return function(){this.textContent=t}}function ha(t){return function(){var n=t(this);this.textContent=n??""}}function da(t){return this.tween("text",typeof t=="function"?ha(sn(this,"text",t)):la(t==null?"":t+""))}function pa(t){return function(n){this.textContent=t.call(this,n)}}function ga(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&pa(i)),n}return r._value=t,r}function ma(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ga(t))}function ya(){for(var t=this._name,n=this._id,e=ve(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,u=0;u<s;++u)if(f=a[u]){var l=F(f,n);It(f,t,e,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new z(r,this._parents,t,e)}function wa(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var s={value:a},f={value:function(){--i===0&&o()}};e.each(function(){var u=P(this,r),l=u.on;l!==t&&(n=(t=l).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(f)),u.on=n}),i===0&&o()})}var va=0;function z(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ve(){return++va}var H=st.prototype;z.prototype={constructor:z,select:jo,selectAll:ta,selectChild:H.selectChild,selectChildren:H.selectChildren,filter:Uo,merge:Go,selection:ea,transition:ya,call:H.call,nodes:H.nodes,node:H.node,size:H.size,empty:H.empty,each:H.each,on:Ko,attr:Eo,attrTween:Do,style:sa,styleTween:ca,text:da,textTween:ma,remove:Qo,tween:ko,delay:Ho,duration:qo,ease:Xo,easeVarying:Yo,end:wa,[Symbol.iterator]:H[Symbol.iterator]};function _a(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xa={time:null,delay:0,duration:250,ease:_a};function ba(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function ka(t){var n,e;t instanceof z?(n=t._id,t=t._name):(n=ve(),(e=xa).time=on(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,u=0;u<s;++u)(f=a[u])&&It(f,t,n,u,a,e||ba(f,n));return new z(r,this._parents,t,n)}st.prototype.interrupt=_o;st.prototype.transition=ka;var Rn={},zt={},Lt=34,j=10,qt=13;function _e(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Aa(t,n){var e=_e(t);return function(r,i){return n(e(r),i,t)}}function Fn(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function S(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Ma(t){return t<0?"-"+S(-t,6):t>9999?"+"+S(t,6):S(t,4)}function Na(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ma(t.getUTCFullYear())+"-"+S(t.getUTCMonth()+1,2)+"-"+S(t.getUTCDate(),2)+(i?"T"+S(n,2)+":"+S(e,2)+":"+S(r,2)+"."+S(i,3)+"Z":r?"T"+S(n,2)+":"+S(e,2)+":"+S(r,2)+"Z":e||n?"T"+S(n,2)+":"+S(e,2)+"Z":"")}function $a(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(c,h){var d,g,m=i(c,function(y,x){if(d)return d(y,x-1);g=y,d=h?Aa(y,h):_e(y)});return m.columns=g||[],m}function i(c,h){var d=[],g=c.length,m=0,y=0,x,b=g<=0,v=!1;c.charCodeAt(g-1)===j&&--g,c.charCodeAt(g-1)===qt&&--g;function M(){if(b)return zt;if(v)return v=!1,Rn;var N,A=m,$;if(c.charCodeAt(A)===Lt){for(;m++<g&&c.charCodeAt(m)!==Lt||c.charCodeAt(++m)===Lt;);return(N=m)>=g?b=!0:($=c.charCodeAt(m++))===j?v=!0:$===qt&&(v=!0,c.charCodeAt(m)===j&&++m),c.slice(A+1,N-1).replace(/""/g,'"')}for(;m<g;){if(($=c.charCodeAt(N=m++))===j)v=!0;else if($===qt)v=!0,c.charCodeAt(m)===j&&++m;else if($!==e)continue;return c.slice(A,N)}return b=!0,c.slice(A,g)}for(;(x=M())!==zt;){for(var w=[];x!==Rn&&x!==zt;)w.push(x),x=M();h&&(w=h(w,y++))==null||d.push(w)}return d}function o(c,h){return c.map(function(d){return h.map(function(g){return l(d[g])}).join(t)})}function a(c,h){return h==null&&(h=Fn(c)),[h.map(l).join(t)].concat(o(c,h)).join(`
`)}function s(c,h){return h==null&&(h=Fn(c)),o(c,h).join(`
`)}function f(c){return c.map(u).join(`
`)}function u(c){return c.map(l).join(t)}function l(c){return c==null?"":c instanceof Date?Na(c):n.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:f,formatRow:u,formatValue:l}}var Sa=$a(","),Ca=Sa.parse;function Ea(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Et(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function K(t){return t=Et(Math.abs(t)),t?t[1]:NaN}function Ta(t,n){return function(e,r){for(var i=e.length,o=[],a=0,s=t[0],f=0;i>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),o.push(e.substring(i-=s,i+s)),!((f+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Ra(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Fa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tt(t){if(!(n=Fa.exec(t)))throw new Error("invalid format: "+t);var n;return new un({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Tt.prototype=un.prototype;function un(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}un.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ia(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xe;function Da(t,n){var e=Et(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(xe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Et(t,Math.max(0,n+o-1))[0]}function In(t,n){var e=Et(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Dn={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ea,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>In(t*100,n),r:In,s:Da,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pn(t){return t}var On=Array.prototype.map,Hn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Pa(t){var n=t.grouping===void 0||t.thousands===void 0?Pn:Ta(On.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Pn:Ra(On.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Tt(c);var h=c.fill,d=c.align,g=c.sign,m=c.symbol,y=c.zero,x=c.width,b=c.comma,v=c.precision,M=c.trim,w=c.type;w==="n"?(b=!0,w="g"):Dn[w]||(v===void 0&&(v=12),M=!0,w="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var N=m==="$"?e:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=m==="$"?r:/[%p]/.test(w)?a:"",$=Dn[w],L=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function I(p){var _=N,k=A,q,ln,ft;if(w==="c")k=$(p)+k,p="";else{p=+p;var ct=p<0||1/p<0;if(p=isNaN(p)?f:$(Math.abs(p),v),M&&(p=Ia(p)),ct&&+p==0&&g!=="+"&&(ct=!1),_=(ct?g==="("?g:s:g==="-"||g==="("?"":g)+_,k=(w==="s"?Hn[8+xe/3]:"")+k+(ct&&g==="("?")":""),L){for(q=-1,ln=p.length;++q<ln;)if(ft=p.charCodeAt(q),48>ft||ft>57){k=(ft===46?i+p.slice(q+1):p.slice(q))+k,p=p.slice(0,q);break}}}b&&!y&&(p=n(p,1/0));var lt=_.length+p.length+k.length,O=lt<x?new Array(x-lt+1).join(h):"";switch(b&&y&&(p=n(O+p,O.length?x-k.length:1/0),O=""),d){case"<":p=_+p+k+O;break;case"=":p=_+O+p+k;break;case"^":p=O.slice(0,lt=O.length>>1)+_+p+k+O.slice(lt);break;default:p=O+_+p+k;break}return o(p)}return I.toString=function(){return c+""},I}function l(c,h){var d=u((c=Tt(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(K(h)/3)))*3,m=Math.pow(10,-g),y=Hn[8+g/3];return function(x){return d(m*x)+y}}return{format:u,formatPrefix:l}}var gt,be,ke;Oa({thousands:",",grouping:[3],currency:["$",""]});function Oa(t){return gt=Pa(t),be=gt.format,ke=gt.formatPrefix,gt}function Ha(t){return Math.max(0,-K(Math.abs(t)))}function za(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(K(n)/3)))*3-K(Math.abs(t)))}function La(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,K(n)-K(t))+1}function fn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const zn=Symbol("implicit");function cn(){var t=new hn,n=[],e=[],r=zn;function i(o){let a=t.get(o);if(a===void 0){if(r!==zn)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new hn;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cn(n,e).unknown(r)},fn.apply(i,arguments),i}function Ae(){var t=cn().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,s=!1,f=0,u=0,l=.5;delete t.unknown;function c(){var h=n().length,d=i<r,g=d?i:r,m=d?r:i;o=(m-g)/Math.max(1,h-f+u*2),s&&(o=Math.floor(o)),g+=(m-g-o*(h-f))*l,a=o*(1-f),s&&(g=Math.round(g),a=Math.round(a));var y=Ke(h).map(function(x){return g+o*x});return e(d?y.reverse():y)}return t.domain=function(h){return arguments.length?(n(h),c()):n()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(f=Math.min(1,u=+h),c()):f},t.paddingInner=function(h){return arguments.length?(f=Math.min(1,h),c()):f},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(l=Math.max(0,Math.min(1,h)),c()):l},t.copy=function(){return Ae(n(),[r,i]).round(s).paddingInner(f).paddingOuter(u).align(l)},fn.apply(c(),arguments)}function qa(t){return function(){return t}}function Va(t){return+t}var Ln=[0,1];function U(t){return t}function Jt(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:qa(isNaN(n)?NaN:.5)}function Xa(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Ba(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Jt(i,r),o=e(a,o)):(r=Jt(r,i),o=e(o,a)),function(s){return o(r(s))}}function Ya(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Jt(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(s){var f=qe(t,s,1,r)-1;return o[f](i[f](s))}}function Ua(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ga(){var t=Ln,n=Ln,e=rn,r,i,o,a=U,s,f,u;function l(){var h=Math.min(t.length,n.length);return a!==U&&(a=Xa(t[0],t[h-1])),s=h>2?Ya:Ba,f=u=null,c}function c(h){return h==null||isNaN(h=+h)?o:(f||(f=s(t.map(r),n,e)))(r(a(h)))}return c.invert=function(h){return a(i((u||(u=s(n,t.map(r),T)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,Va),l()):t.slice()},c.range=function(h){return arguments.length?(n=Array.from(h),l()):n.slice()},c.rangeRound=function(h){return n=Array.from(h),e=ao,l()},c.clamp=function(h){return arguments.length?(a=h?!0:U,l()):a!==U},c.interpolate=function(h){return arguments.length?(e=h,l()):e},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return r=h,i=d,l()}}function Wa(){return Ga()(U,U)}function Za(t,n,e,r){var i=Ze(t,n,e),o;switch(r=Tt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=za(i,a))&&(r.precision=o),ke(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=La(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ha(i))&&(r.precision=o-(r.type==="%")*2);break}}return be(r)}function Ka(t){var n=t.domain;return t.ticks=function(e){var r=n();return We(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Za(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],s=r[o],f,u,l=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);l-- >0;){if(u=Vt(a,s,e),u===f)return r[i]=a,r[o]=s,n(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;f=u}return t},t}function Qt(){var t=Wa();return t.copy=function(){return Ua(t,Qt())},fn.apply(t,arguments),Ka(t)}function mt(t){return function(){return t}}function Ja(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qn(t,n){if((a=t.length)>1)for(var e=1,r,i,o=t[n[0]],a,s=o.length;e<a;++e)for(i=o,o=t[n[e]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vn(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Qa(t,n){return t[n]}function ja(t){const n=[];return n.key=t,n}function ts(){var t=mt([]),n=Vn,e=qn,r=Qa;function i(o){var a=Array.from(t.apply(this,arguments),ja),s,f=a.length,u=-1,l;for(const c of o)for(s=0,++u;s<f;++s)(a[s][u]=[0,+r(c,a[s].key,u,o)]).data=c;for(s=0,l=Ja(n(a));s<f;++s)a[l[s]].index=s;return e(a,l),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:mt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:mt(+o),i):r},i.order=function(o){return arguments.length?(n=o==null?Vn:typeof o=="function"?o:mt(Array.from(o)),i):n},i.offset=function(o){return arguments.length?(e=o??qn,i):e},i}function rt(t,n,e){this.k=t,this.x=n,this.y=e}rt.prototype={constructor:rt,scale:function(t){return t===1?this:new rt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new rt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};rt.prototype;function ns(t){let n,e='<h1>San Diego Residents: Where Are Your Tax Dollars Going?</h1> <h2>Analyzing The San Diego City Budget for Weather Emergencies</h2> <p>Every year on April 15, residents of the United States turn in their tax forms, handing over a large portion of their income to the federal, state, and local governments. Around the same time, those residents start asking the burning question: Where is my money going? The capital budget of the city of San Diego is utilized to fund long-term investments and projects; these include but are not limited to public utilities, transportation, as well as parks &amp; recreational facilities. The City of San Diego government site hosts a database which details how much money goes into these investments between the years 2010 to 2024 as well as the proposed budget for 2025. The capital budget within these years has grown, with respect to inflation, by approximately 50 percent. The total adopted budget, split up by asset owning department, for each year between 2010 and 2024, along with the proposed budget for 2025, is displayed below:</p> <div id="chart1" width="460" height="400"></div> <p>From the bar chart, one can assess a stark change in the amount of money utilized. Specifically, certain subsections have grown exponentially when compared to others. Observing the orange section of the bar chart, the budget for stormwater has seen considerable growth in the past 15 years, going from roughly 2 million in 2010 to 84 million in 2025. It goes from unnoticeable to a substantial portion of the overall budget. This massive uptick in investment for stormwater is something that should be a cause for concern as it now makes up almost a fifth of total expenditures; this is in addition to rising concerns over climate change especially in coastal cities. The bar chart below illustrates the trend in stormwater spending. The pie chart below breaks down which projects the stormwater budget funded.</p> <div id="chart2" width="460" height="400"></div> <p>Placeholder for sliding pie chart</p> <p>Conclusion paragraph</p>';return{c(){n=Ne("main"),n.innerHTML=e},l(r){n=$e(r,"MAIN",{"data-svelte-h":!0}),Se(n)!=="svelte-h36uo9"&&(n.innerHTML=e)},m(r,i){Ce(r,n,i)},p:yt,i:yt,o:yt,d(r){r&&Ee(n)}}}function es(t){return Me(()=>{async function n(){function e(p){return{Categories:p.Categories,"Public Utilities":+p["Public Utilities"],Transportation:+p.Transportation,"Parks & Recreation":+p["Parks & Recreation"],Stormwater:+p.Stormwater,"Environmental Services":+p["Environmental Services"],Citywide:+p.Citywide,"Fire-Rescue":+p["Fire-Rescue"],"General Services":+p["General Services"],"Department of Information Technology":+p["Department of Information Technology"],Library:+p.Library,"Airport Management":+p["Airport Management"],"Sustainability & Mobility":+p["Sustainability & Mobility"],Police:+p.Police,"Homelessness Strategies and Solutions":+p["Homelessness Strategies and Solutions"],"Real Estate Assets":+p["Real Estate Assets"]}}const i=await(await fetch("Caps-Trans.csv")).text(),o=Ca(i,e),a={top:50,right:10,bottom:110,left:90},s=460-a.left-a.right,f=400-a.top-a.bottom,u=J("#chart1").append("svg").attr("width",s+a.left+a.right).attr("height",f+a.top+a.bottom).append("g").attr("transform",`translate(${a.left},${a.top})`),l=o.map(p=>p.Categories),c=o.columns.slice(1),h=Ae().domain(l).range([0,s]).padding([.2]);u.append("g").attr("transform",`translate(0, ${f})`).call(gn(h).tickSizeOuter(0)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end");const d=Qt().domain([0,1e9]).range([f,0]);u.append("g").call(mn(d));const g=cn().domain(c).range(["#000080","#87CEFA","#DC143C","#FFA500","#8FBC8F","#90EE90","#FF0000","#F4A460","#006400","#6B8E23","#800080","#FFC0CB","#0000CD","#778899","#DAA520"]),m=ts().keys(c)(o);console.log(m);const y=J("#chart1").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","1px").style("border-radius","5px").style("padding","10px"),x=function(p,_){const k=J(this.parentNode).datum().key,q=_.data[k];y.html("Department: "+k+"<br>Budget: $"+q).style("opacity",1)},b=function(p,_){y.style("transform","translateY(-55%)").style("left",p.x/2+"px").style("top",p.y/2-30+"px")},v=function(p,_){y.style("opacity",0)};u.append("g").selectAll("g").data(m).join("g").attr("fill",p=>g(p.key)).selectAll("rect").data(p=>p).join("rect").attr("x",p=>h(p.data.Categories)).attr("y",p=>d(p[1])).attr("height",p=>d(p[0])-d(p[1])).attr("width",h.bandwidth()).attr("stroke","grey").on("mouseover",x).on("mousemove",b).on("mouseleave",v);const M=J("#chart2").append("svg").attr("width",s+a.left+a.right).attr("height",f+a.top+a.bottom).append("g").attr("transform",`translate(${a.left},${a.top})`);M.append("g").attr("transform",`translate(0, ${f})`).call(gn(h).tickSizeOuter(0)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end");const w=Qt().domain([0,1e8]).range([f,0]);M.append("g").call(mn(w));const N=J("#chart2").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","1px").style("border-radius","5px").style("padding","10px"),A=function(p,_){N.html("Stormwater Budget: $"+_).style("opacity",1)},$=function(p,_){N.style("transform","translateY(-55%)").style("left",p.x/2+"px").style("top",p.y/2-30+"px")},L=function(p,_){N.style("opacity",0)},I=o.map(p=>p.Stormwater);M.append("g").selectAll("g").data(I).join("rect").attr("x",(p,_)=>h(l[_])).attr("y",p=>w(p)).attr("width",h.bandwidth()).attr("height",p=>f-w(p)).attr("fill","#FFA500").attr("stroke","grey").on("mouseover",A).on("mousemove",$).on("mouseleave",L)}n()}),[]}class rs extends Bn{constructor(n){super(),Yn(this,n,es,ns,Xn,{})}}function is(t){let n,e;return n=new rs({}),{c(){Te(n.$$.fragment)},l(r){Re(n.$$.fragment,r)},m(r,i){Fe(n,r,i),e=!0},p:yt,i(r){e||(Ie(n.$$.fragment,r),e=!0)},o(r){De(n.$$.fragment,r),e=!1},d(r){Pe(n,r)}}}class ss extends Bn{constructor(n){super(),Yn(this,n,null,is,Xn,{})}}export{ss as component};
